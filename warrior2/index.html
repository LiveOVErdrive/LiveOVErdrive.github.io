<head></head>
<body>
  <script>
console.log("Warrior II")

const keypress = async () => {
  process.stdin.setRawMode(true)
    return new Promise(resolve => process.stdin.once('data', data => {
      process.stdin.setRawMode(false)
      resolve(data)
  }))
}

;(async () => {

  running = true
  playerX = 5
  playerY = 5
  while(running) {
    for (let y = 0; y < 10; y++) {
      for (let x = 0; x < 80; x++) {
        if (x == playerX && y == playerY) {
          process.stdout.write("@")
        } else {
          process.stdout.write(".")
        }
      }
      process.stdout.write("\n")
    }

    for (let i = 0; i < 10; i++) {
      process.stdout.write("\033[F")
    }

    key = await keypress()

    if (key == "`") {
        running = false
    } else if (key == "a") {
        playerX -= 1
    } else if (key == "d") {
        playerX += 1
    } else if (key == "w") {
        playerY -= 1
    } else if (key == "x") {
        playerY += 1
    } else if (key == "q") {
        playerY -= 1
        playerX -= 1
    } else if (key == "e") {
        playerX += 1
        playerY -= 1
    } else if (key == "z") {
        playerX -= 1
        playerY += 1
    } else if (key == "c") {
        playerX += 1
        playerY += 1
    }

  }

})().then(process.exit)
  </script>
</body>
